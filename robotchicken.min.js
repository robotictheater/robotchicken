exports={button:{active:!1,onPress:null,pressed:()=>{exports.button.active||"function"!=typeof exports.button.onPress||(exports.button.active=!0,exports.button.onPress())}},servo:{head:require("servoxt").connect(D5,{range:2}),f1:require("servoxt").connect(D4,{range:2}),f2:require("servoxt").connect(D3,{range:2}),waist:require("servoxt").connect(D31,{range:2}),tail:require("servoxt").connect(D30,{range:2}),wingRight:require("servoxt").connect(D29,{range:2}),wingLeft:require("servoxt").connect(D28,{range:2})},init:function(e){exports.home(),setWatch(exports.button.pressed,e,{repeat:!0,edge:"rising",debounce:100})},home:e=>{exports.servo.head.move(.5,1500,500),exports.servo.f1.move(.5,1500,500),exports.servo.f2.move(.5,1500,500),exports.servo.waist.move(.5,1500,500),exports.servo.tail.move(.5,1500,500),exports.servo.wingRight.move(.5,1500,500),exports.servo.wingLeft.move(.5,1500,500,()=>{"function"==typeof e&&e()})},f1Activate:e=>{exports.servo.f1.move(0,500,1500,()=>{exports.servo.f1.move(.4,500,500,e)})},f2Activate:e=>{exports.servo.f2.move(0,500,1500,()=>{exports.servo.f2.move(.5,500,500,e)})},hand:(e,o,t,r)=>{switch(e){case"rock":exports.servo.f1.move(0,o,t),exports.servo.f2.move(0,o,t,r);break;case"paper":exports.servo.f1.move(.5,o,t),exports.servo.f2.move(.5,o,t,r);break;case"scissors":exports.servo.f1.move(0,o,t,r)}},rps:function(e){let o=e=>{let o=["r","p","s"];switch(o[Math.floor(3*Math.random())]){case"r":exports.f1Activate(),exports.f2Activate();break;case"s":exports.f1Activate()}};exports.servo.head.move(.3,300,200,()=>{exports.servo.head.move(.5,300,200,()=>{exports.servo.head.move(.3,300,200,()=>{exports.servo.head.move(.5,300,200,()=>{exports.servo.head.move(.3,300,200,()=>{exports.servo.head.move(.5,300,200,()=>{o(),exports.servo.head.move(.2,300,2e3,()=>{exports.servo.head.move(.5,1700,0,()=>{e&&e()})})})})})})})})},moveWing:(e,o,t,r)=>{let s=(e,o,t)=>{e=E.clip(.5+e/100*.5,.5,1),exports.servo.wingLeft.move(e,o,100,()=>{"function"==typeof t&&t()})},v=(e,o,t)=>{e=E.clip(.5-e/100*.5,0,.5),exports.servo.wingRight.move(e,o,100,()=>{"function"==typeof t&&t()})};"left"===e?s(o,t,r):"right"===e?v(o,t,r):(s(o,t),v(o,t,r))},flap:(e,o,t)=>{t||(t=0),t<e?(t++,exports.moveWing("both",100,500,()=>{exports.moveWing("both",0,500,()=>{exports.flap(e,o,t)})})):"function"==typeof o&&o()},wagTail:(e,o,t)=>{let r=e=>{exports.servo.tail.move(.7,500,50,()=>{exports.servo.tail.move(.3,500,50,()=>{e&&e()})})};t||(t=0),t<e?(t++,r(()=>{exports.wagTail(e,o,t)})):(exports.servo.tail.move(.5,500),"function"==typeof o&&o())},shake:(e,o,t,r,s)=>{let v=e=>{exports.servo.waist.move(E.clip(.5-o,0,1),t,0,()=>{exports.servo.waist.move(E.clip(.5+o,0,1),t,0,()=>{e&&e()})})};s||(s=0),s<e?(s++,v(()=>{exports.shake(e,o,t,r,s)})):(exports.servo.waist.move(.5,500),"function"==typeof r&&r())},yes:e=>{exports.servo.head.move(.3,800,100,()=>{exports.servo.head.move(.5,800,100,()=>{exports.servo.head.move(.3,800,100,()=>{exports.servo.head.move(.5,800,100,e)})})})},no:e=>{exports.servo.head.move(.3,1500,0,()=>{exports.servo.waist.move(.4,500,0,()=>{exports.servo.waist.move(.6,750,0,()=>{exports.servo.waist.move(.4,500,0,()=>{exports.servo.waist.move(.6,750,0,()=>{exports.servo.waist.move(.5,500,0,()=>{exports.servo.head.move(.5,1500,0,e)})})})})})})}};